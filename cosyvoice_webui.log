Traceback (most recent call last):
  File "C:\projects\CosyVoice\webui.py", line 25, in <module>
    from cosyvoice.cli.cosyvoice import AutoModel
  File "C:\projects\CosyVoice\cosyvoice\cli\cosyvoice.py", line 19, in <module>
    from modelscope import snapshot_download
  File "C:\projects\CosyVoice\.venv\Lib\site-packages\modelscope\__init__.py", line 115, in <module>
    fix_transformers_upgrade()
  File "C:\projects\CosyVoice\.venv\Lib\site-packages\modelscope\utils\automodel_utils.py", line 45, in fix_transformers_upgrade
    from transformers import PreTrainedModel
  File "<frozen importlib._bootstrap>", line 1229, in _handle_fromlist
Sliding Window Attention is enabled but not implemented for `sdpa`; unexpected results may be encountered.
C:\projects\CosyVoice\.venv\Lib\site-packages\diffusers\models\lora.py:393: FutureWarning: `LoRACompatibleLinear` is deprecated and will be removed in version 1.0.0. Use of `LoRACompatibleLinear` is deprecated. Please switch to PEFT backend by installing PEFT: `pip install peft`.
  deprecate("LoRACompatibleLinear", "1.0.0", deprecation_message)
2026-01-09 20:11:10,699 INFO input frame rate=25
C:\projects\CosyVoice\.venv\Lib\site-packages\torch\nn\utils\weight_norm.py:28: UserWarning: torch.nn.utils.weight_norm is deprecated in favor of torch.nn.utils.parametrizations.weight_norm.
  warnings.warn("torch.nn.utils.weight_norm is deprecated in favor of torch.nn.utils.parametrizations.weight_norm.")
C:\projects\CosyVoice\.venv\Lib\site-packages\onnxruntime\capi\onnxruntime_inference_collection.py:69: UserWarning: Specified provider 'CUDAExecutionProvider' is not in available provider names.Available providers: 'AzureExecutionProvider, CPUExecutionProvider'
  warnings.warn(
2026-01-09 20:11:39,395 INFO no frontend is avaliable
2026-01-09 20:11:44,057 DEBUG Using proactor: IocpProactor
2026-01-09 20:11:44,064 DEBUG Starting new HTTPS connection (1): huggingface.co:443
C:\projects\CosyVoice\.venv\Lib\site-packages\gradio\components\base.py:201: UserWarning: 'scale' value should be an integer. Using 0.5 will cause issues.
  warnings.warn(
C:\projects\CosyVoice\.venv\Lib\site-packages\gradio\components\base.py:201: UserWarning: 'scale' value should be an integer. Using 0.25 will cause issues.
  warnings.warn(
C:\projects\CosyVoice\.venv\Lib\site-packages\gradio\layouts\column.py:55: UserWarning: 'scale' value should be an integer. Using 0.25 will cause issues.
  warnings.warn(
2026-01-09 20:11:44,549 DEBUG Using proactor: IocpProactor
2026-01-09 20:11:45,014 DEBUG connect_tcp.started host='api.gradio.app' port=443 local_address=None timeout=3 socket_options=None
2026-01-09 20:11:45,272 DEBUG connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x00000264F572CCD0>
2026-01-09 20:11:45,272 DEBUG start_tls.started ssl_context=<ssl.SSLContext object at 0x00000264F57351C0> server_hostname='api.gradio.app' timeout=3
2026-01-09 20:11:45,525 DEBUG connect_tcp.started host='localhost' port=39841 local_address=None timeout=None socket_options=None
2026-01-09 20:11:45,574 DEBUG https://huggingface.co:443 "HEAD /api/telemetry/gradio/initiated HTTP/1.1" 200 0
2026-01-09 20:11:45,764 DEBUG start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x00000264F54F7590>
2026-01-09 20:11:45,764 DEBUG send_request_headers.started request=<Request [b'GET']>
2026-01-09 20:11:45,765 DEBUG send_request_headers.complete
2026-01-09 20:11:45,765 DEBUG send_request_body.started request=<Request [b'GET']>
2026-01-09 20:11:45,765 DEBUG send_request_body.complete
2026-01-09 20:11:45,765 DEBUG receive_response_headers.started request=<Request [b'GET']>
2026-01-09 20:11:45,973 DEBUG receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Fri, 09 Jan 2026 23:11:45 GMT'), (b'Content-Type', b'application/json'), (b'Content-Length', b'21'), (b'Connection', b'keep-alive'), (b'Server', b'nginx/1.18.0'), (b'Access-Control-Allow-Origin', b'*')])
2026-01-09 20:11:45,973 INFO HTTP Request: GET https://api.gradio.app/pkg-version "HTTP/1.1 200 OK"
2026-01-09 20:11:45,974 DEBUG receive_response_body.started request=<Request [b'GET']>
2026-01-09 20:11:45,974 DEBUG receive_response_body.complete
2026-01-09 20:11:45,974 DEBUG response_closed.started
2026-01-09 20:11:45,974 DEBUG response_closed.complete
2026-01-09 20:11:45,974 DEBUG close.started
2026-01-09 20:11:45,975 DEBUG close.complete
2026-01-09 20:11:47,579 DEBUG connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x00000264F505E950>
2026-01-09 20:11:47,579 DEBUG send_request_headers.started request=<Request [b'GET']>
2026-01-09 20:11:47,580 DEBUG send_request_headers.complete
2026-01-09 20:11:47,581 DEBUG send_request_body.started request=<Request [b'GET']>
2026-01-09 20:11:47,581 DEBUG send_request_body.complete
2026-01-09 20:11:47,581 DEBUG receive_response_headers.started request=<Request [b'GET']>
2026-01-09 20:11:47,581 DEBUG receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'date', b'Fri, 09 Jan 2026 23:11:46 GMT'), (b'server', b'uvicorn'), (b'content-length', b'4'), (b'content-type', b'application/json')])
2026-01-09 20:11:47,581 INFO HTTP Request: GET http://localhost:39841/gradio_api/startup-events "HTTP/1.1 200 OK"
2026-01-09 20:11:47,581 DEBUG receive_response_body.started request=<Request [b'GET']>
2026-01-09 20:11:47,581 DEBUG receive_response_body.complete
2026-01-09 20:11:47,581 DEBUG response_closed.started
2026-01-09 20:11:47,582 DEBUG response_closed.complete
2026-01-09 20:11:47,582 DEBUG close.started
2026-01-09 20:11:47,582 DEBUG close.complete
2026-01-09 20:11:47,583 DEBUG connect_tcp.started host='localhost' port=39841 local_address=None timeout=3 socket_options=None
2026-01-09 20:11:49,645 DEBUG connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x00000264F8593810>
2026-01-09 20:11:49,646 DEBUG send_request_headers.started request=<Request [b'HEAD']>
2026-01-09 20:11:49,646 DEBUG send_request_headers.complete
2026-01-09 20:11:49,646 DEBUG send_request_body.started request=<Request [b'HEAD']>
2026-01-09 20:11:49,647 DEBUG send_request_body.complete
2026-01-09 20:11:49,647 DEBUG receive_response_headers.started request=<Request [b'HEAD']>
2026-01-09 20:11:49,652 DEBUG receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'date', b'Fri, 09 Jan 2026 23:11:48 GMT'), (b'server', b'uvicorn'), (b'content-length', b'36959'), (b'content-type', b'text/html; charset=utf-8')])
2026-01-09 20:11:49,652 INFO HTTP Request: HEAD http://localhost:39841/ "HTTP/1.1 200 OK"
2026-01-09 20:11:49,652 DEBUG receive_response_body.started request=<Request [b'HEAD']>
2026-01-09 20:11:49,652 DEBUG receive_response_body.complete
2026-01-09 20:11:49,652 DEBUG response_closed.started
2026-01-09 20:11:49,652 DEBUG response_closed.complete
2026-01-09 20:11:49,652 DEBUG close.started
2026-01-09 20:11:49,653 DEBUG close.complete
2026-01-09 20:11:49,657 DEBUG Starting new HTTPS connection (1): huggingface.co:443
2026-01-09 20:11:50,668 DEBUG https://huggingface.co:443 "HEAD /api/telemetry/gradio/launched HTTP/1.1" 200 0
* Running on local URL:  http://0.0.0.0:39841

To create a public link, set `share=True` in `launch()`.
Keyboard interruption in main thread... closing server.
Sliding Window Attention is enabled but not implemented for `sdpa`; unexpected results may be encountered.
C:\projects\CosyVoice\.venv\Lib\site-packages\diffusers\models\lora.py:393: FutureWarning: `LoRACompatibleLinear` is deprecated and will be removed in version 1.0.0. Use of `LoRACompatibleLinear` is deprecated. Please switch to PEFT backend by installing PEFT: `pip install peft`.
  deprecate("LoRACompatibleLinear", "1.0.0", deprecation_message)
2026-01-09 20:20:54,713 INFO input frame rate=25
C:\projects\CosyVoice\.venv\Lib\site-packages\torch\nn\utils\weight_norm.py:28: UserWarning: torch.nn.utils.weight_norm is deprecated in favor of torch.nn.utils.parametrizations.weight_norm.
  warnings.warn("torch.nn.utils.weight_norm is deprecated in favor of torch.nn.utils.parametrizations.weight_norm.")
C:\projects\CosyVoice\.venv\Lib\site-packages\onnxruntime\capi\onnxruntime_inference_collection.py:69: UserWarning: Specified provider 'CUDAExecutionProvider' is not in available provider names.Available providers: 'AzureExecutionProvider, CPUExecutionProvider'
  warnings.warn(
2026-01-09 20:21:33,712 INFO no frontend is avaliable
2026-01-09 20:21:39,375 DEBUG Using proactor: IocpProactor
2026-01-09 20:21:39,381 DEBUG Starting new HTTPS connection (1): huggingface.co:443
C:\projects\CosyVoice\.venv\Lib\site-packages\gradio\components\base.py:201: UserWarning: 'scale' value should be an integer. Using 0.5 will cause issues.
  warnings.warn(
C:\projects\CosyVoice\.venv\Lib\site-packages\gradio\components\base.py:201: UserWarning: 'scale' value should be an integer. Using 0.25 will cause issues.
  warnings.warn(
C:\projects\CosyVoice\.venv\Lib\site-packages\gradio\layouts\column.py:55: UserWarning: 'scale' value should be an integer. Using 0.25 will cause issues.
  warnings.warn(
2026-01-09 20:21:40,028 DEBUG Using proactor: IocpProactor
2026-01-09 20:21:40,489 DEBUG connect_tcp.started host='api.gradio.app' port=443 local_address=None timeout=3 socket_options=None
2026-01-09 20:21:40,749 DEBUG connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x00000190FD186A50>
2026-01-09 20:21:40,750 DEBUG start_tls.started ssl_context=<ssl.SSLContext object at 0x00000190FA235400> server_hostname='api.gradio.app' timeout=3
2026-01-09 20:21:41,072 DEBUG https://huggingface.co:443 "HEAD /api/telemetry/gradio/initiated HTTP/1.1" 200 0
2026-01-09 20:21:41,247 DEBUG start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x00000190FC44FCD0>
2026-01-09 20:21:41,248 DEBUG send_request_headers.started request=<Request [b'GET']>
2026-01-09 20:21:41,248 DEBUG send_request_headers.complete
2026-01-09 20:21:41,248 DEBUG send_request_body.started request=<Request [b'GET']>
2026-01-09 20:21:41,248 DEBUG send_request_body.complete
2026-01-09 20:21:41,248 DEBUG receive_response_headers.started request=<Request [b'GET']>
2026-01-09 20:21:41,275 DEBUG connect_tcp.started host='localhost' port=39841 local_address=None timeout=None socket_options=None
2026-01-09 20:21:41,455 DEBUG receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Fri, 09 Jan 2026 23:21:41 GMT'), (b'Content-Type', b'application/json'), (b'Content-Length', b'21'), (b'Connection', b'keep-alive'), (b'Server', b'nginx/1.18.0'), (b'Access-Control-Allow-Origin', b'*')])
2026-01-09 20:21:41,456 INFO HTTP Request: GET https://api.gradio.app/pkg-version "HTTP/1.1 200 OK"
2026-01-09 20:21:41,456 DEBUG receive_response_body.started request=<Request [b'GET']>
2026-01-09 20:21:41,456 DEBUG receive_response_body.complete
2026-01-09 20:21:41,457 DEBUG response_closed.started
2026-01-09 20:21:41,457 DEBUG response_closed.complete
2026-01-09 20:21:41,457 DEBUG close.started
2026-01-09 20:21:41,457 DEBUG close.complete
2026-01-09 20:21:43,326 DEBUG connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x00000190FA08E490>
2026-01-09 20:21:43,326 DEBUG send_request_headers.started request=<Request [b'GET']>
2026-01-09 20:21:43,326 DEBUG send_request_headers.complete
2026-01-09 20:21:43,327 DEBUG send_request_body.started request=<Request [b'GET']>
2026-01-09 20:21:43,327 DEBUG send_request_body.complete
2026-01-09 20:21:43,327 DEBUG receive_response_headers.started request=<Request [b'GET']>
2026-01-09 20:21:43,328 DEBUG receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'date', b'Fri, 09 Jan 2026 23:21:43 GMT'), (b'server', b'uvicorn'), (b'content-length', b'4'), (b'content-type', b'application/json')])
2026-01-09 20:21:43,328 INFO HTTP Request: GET http://localhost:39841/gradio_api/startup-events "HTTP/1.1 200 OK"
2026-01-09 20:21:43,328 DEBUG receive_response_body.started request=<Request [b'GET']>
2026-01-09 20:21:43,328 DEBUG receive_response_body.complete
2026-01-09 20:21:43,328 DEBUG response_closed.started
2026-01-09 20:21:43,328 DEBUG response_closed.complete
2026-01-09 20:21:43,328 DEBUG close.started
2026-01-09 20:21:43,329 DEBUG close.complete
2026-01-09 20:21:43,330 DEBUG connect_tcp.started host='localhost' port=39841 local_address=None timeout=3 socket_options=None
2026-01-09 20:21:45,364 DEBUG connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x00000190FA2C1690>
2026-01-09 20:21:45,364 DEBUG send_request_headers.started request=<Request [b'HEAD']>
2026-01-09 20:21:45,364 DEBUG send_request_headers.complete
2026-01-09 20:21:45,365 DEBUG send_request_body.started request=<Request [b'HEAD']>
2026-01-09 20:21:45,365 DEBUG send_request_body.complete
2026-01-09 20:21:45,365 DEBUG receive_response_headers.started request=<Request [b'HEAD']>
2026-01-09 20:21:45,371 DEBUG receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'date', b'Fri, 09 Jan 2026 23:21:44 GMT'), (b'server', b'uvicorn'), (b'content-length', b'36959'), (b'content-type', b'text/html; charset=utf-8')])
2026-01-09 20:21:45,371 INFO HTTP Request: HEAD http://localhost:39841/ "HTTP/1.1 200 OK"
2026-01-09 20:21:45,371 DEBUG receive_response_body.started request=<Request [b'HEAD']>
2026-01-09 20:21:45,371 DEBUG receive_response_body.complete
2026-01-09 20:21:45,371 DEBUG response_closed.started
2026-01-09 20:21:45,372 DEBUG response_closed.complete
2026-01-09 20:21:45,372 DEBUG close.started
2026-01-09 20:21:45,372 DEBUG close.complete
2026-01-09 20:21:45,376 DEBUG Starting new HTTPS connection (1): huggingface.co:443
2026-01-09 20:21:46,585 DEBUG https://huggingface.co:443 "HEAD /api/telemetry/gradio/launched HTTP/1.1" 200 0
Sliding Window Attention is enabled but not implemented for `sdpa`; unexpected results may be encountered.
C:\projects\CosyVoice\.venv\Lib\site-packages\diffusers\models\lora.py:393: FutureWarning: `LoRACompatibleLinear` is deprecated and will be removed in version 1.0.0. Use of `LoRACompatibleLinear` is deprecated. Please switch to PEFT backend by installing PEFT: `pip install peft`.
  deprecate("LoRACompatibleLinear", "1.0.0", deprecation_message)
2026-01-09 20:24:01,070 INFO input frame rate=25
C:\projects\CosyVoice\.venv\Lib\site-packages\torch\nn\utils\weight_norm.py:28: UserWarning: torch.nn.utils.weight_norm is deprecated in favor of torch.nn.utils.parametrizations.weight_norm.
  warnings.warn("torch.nn.utils.weight_norm is deprecated in favor of torch.nn.utils.parametrizations.weight_norm.")
C:\projects\CosyVoice\.venv\Lib\site-packages\onnxruntime\capi\onnxruntime_inference_collection.py:69: UserWarning: Specified provider 'CUDAExecutionProvider' is not in available provider names.Available providers: 'AzureExecutionProvider, CPUExecutionProvider'
  warnings.warn(
2026-01-09 20:24:14,542 INFO no frontend is avaliable
2026-01-09 20:24:18,979 DEBUG Using proactor: IocpProactor
2026-01-09 20:24:18,984 DEBUG Starting new HTTPS connection (1): huggingface.co:443
C:\projects\CosyVoice\.venv\Lib\site-packages\gradio\components\base.py:201: UserWarning: 'scale' value should be an integer. Using 0.5 will cause issues.
  warnings.warn(
C:\projects\CosyVoice\.venv\Lib\site-packages\gradio\components\base.py:201: UserWarning: 'scale' value should be an integer. Using 0.25 will cause issues.
  warnings.warn(
C:\projects\CosyVoice\.venv\Lib\site-packages\gradio\layouts\column.py:55: UserWarning: 'scale' value should be an integer. Using 0.25 will cause issues.
  warnings.warn(
2026-01-09 20:24:19,441 DEBUG Using proactor: IocpProactor
2026-01-09 20:24:19,824 DEBUG connect_tcp.started host='api.gradio.app' port=443 local_address=None timeout=3 socket_options=None
2026-01-09 20:24:20,079 DEBUG connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x0000017C8879DB50>
2026-01-09 20:24:20,080 DEBUG start_tls.started ssl_context=<ssl.SSLContext object at 0x0000017C85935400> server_hostname='api.gradio.app' timeout=3
2026-01-09 20:24:20,275 DEBUG connect_tcp.started host='localhost' port=39841 local_address=None timeout=None socket_options=None
2026-01-09 20:24:20,421 DEBUG https://huggingface.co:443 "HEAD /api/telemetry/gradio/initiated HTTP/1.1" 200 0
2026-01-09 20:24:20,569 DEBUG start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x0000017C82A488D0>
2026-01-09 20:24:20,570 DEBUG send_request_headers.started request=<Request [b'GET']>
2026-01-09 20:24:20,570 DEBUG send_request_headers.complete
2026-01-09 20:24:20,570 DEBUG send_request_body.started request=<Request [b'GET']>
2026-01-09 20:24:20,570 DEBUG send_request_body.complete
2026-01-09 20:24:20,570 DEBUG receive_response_headers.started request=<Request [b'GET']>
2026-01-09 20:24:20,779 DEBUG receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Fri, 09 Jan 2026 23:24:20 GMT'), (b'Content-Type', b'application/json'), (b'Content-Length', b'21'), (b'Connection', b'keep-alive'), (b'Server', b'nginx/1.18.0'), (b'Access-Control-Allow-Origin', b'*')])
2026-01-09 20:24:20,779 INFO HTTP Request: GET https://api.gradio.app/pkg-version "HTTP/1.1 200 OK"
2026-01-09 20:24:20,779 DEBUG receive_response_body.started request=<Request [b'GET']>
2026-01-09 20:24:20,779 DEBUG receive_response_body.complete
2026-01-09 20:24:20,779 DEBUG response_closed.started
2026-01-09 20:24:20,779 DEBUG response_closed.complete
2026-01-09 20:24:20,780 DEBUG close.started
2026-01-09 20:24:20,780 DEBUG close.complete
2026-01-09 20:24:22,320 DEBUG connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x0000017C856F79D0>
2026-01-09 20:24:22,320 DEBUG send_request_headers.started request=<Request [b'GET']>
2026-01-09 20:24:22,321 DEBUG send_request_headers.complete
2026-01-09 20:24:22,321 DEBUG send_request_body.started request=<Request [b'GET']>
2026-01-09 20:24:22,322 DEBUG send_request_body.complete
2026-01-09 20:24:22,322 DEBUG receive_response_headers.started request=<Request [b'GET']>
2026-01-09 20:24:22,322 DEBUG receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'date', b'Fri, 09 Jan 2026 23:24:21 GMT'), (b'server', b'uvicorn'), (b'content-length', b'4'), (b'content-type', b'application/json')])
2026-01-09 20:24:22,322 INFO HTTP Request: GET http://localhost:39841/gradio_api/startup-events "HTTP/1.1 200 OK"
2026-01-09 20:24:22,322 DEBUG receive_response_body.started request=<Request [b'GET']>
2026-01-09 20:24:22,323 DEBUG receive_response_body.complete
2026-01-09 20:24:22,323 DEBUG response_closed.started
2026-01-09 20:24:22,323 DEBUG response_closed.complete
2026-01-09 20:24:22,323 DEBUG close.started
2026-01-09 20:24:22,323 DEBUG close.complete
2026-01-09 20:24:22,324 DEBUG connect_tcp.started host='localhost' port=39841 local_address=None timeout=3 socket_options=None
2026-01-09 20:24:24,372 DEBUG connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x0000017C88780E10>
2026-01-09 20:24:24,372 DEBUG send_request_headers.started request=<Request [b'HEAD']>
2026-01-09 20:24:24,372 DEBUG send_request_headers.complete
2026-01-09 20:24:24,374 DEBUG send_request_body.started request=<Request [b'HEAD']>
2026-01-09 20:24:24,374 DEBUG send_request_body.complete
2026-01-09 20:24:24,378 DEBUG receive_response_headers.started request=<Request [b'HEAD']>
2026-01-09 20:24:24,379 DEBUG receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'date', b'Fri, 09 Jan 2026 23:24:23 GMT'), (b'server', b'uvicorn'), (b'content-length', b'36959'), (b'content-type', b'text/html; charset=utf-8')])
2026-01-09 20:24:24,379 INFO HTTP Request: HEAD http://localhost:39841/ "HTTP/1.1 200 OK"
2026-01-09 20:24:24,379 DEBUG receive_response_body.started request=<Request [b'HEAD']>
2026-01-09 20:24:24,379 DEBUG receive_response_body.complete
2026-01-09 20:24:24,379 DEBUG response_closed.started
2026-01-09 20:24:24,379 DEBUG response_closed.complete
2026-01-09 20:24:24,379 DEBUG close.started
2026-01-09 20:24:24,379 DEBUG close.complete
2026-01-09 20:24:24,383 DEBUG Starting new HTTPS connection (1): huggingface.co:443
2026-01-09 20:24:25,501 DEBUG https://huggingface.co:443 "HEAD /api/telemetry/gradio/launched HTTP/1.1" 200 0
